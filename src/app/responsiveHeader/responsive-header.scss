/* Header */
$header-border-bottom-color: #efefef;
$header-menu-dropdown-color: #323232;
$header-anchor-color: #323232;
$header-anchor-hover-color: #000;
$header-anchor-active-bg-color: #fff;
$header-anchor-active-color: #000;
$header-anchor-active-border-color: #000;

$logo-width-medium: 170px;
$logo-width-small: 85px;
$logo-height-medium: 80px;


.wch-responsive-menu {

  header {
	border-bottom: 1px solid $header-border-bottom-color;
  }

  .title-bar .logo-container {
	  margin: auto;
	  position: relative;
	  left: -12px;
  }

  .logo-container {
	width: $logo-width-small;
  }

  .logo {
	height: 0;
	padding-top: $logo-height-medium/$logo-width-medium*100%;
	overflow: hidden;
	background-size:100%;
	background-repeat: no-repeat;
	margin: 0;
  }

  .menu-container {
	display: flex;

  }

  .searchBox {
	height: 54px;
	width: 340px;
	margin-left: 26px;
  }

  .limit-page-name {
	text-overflow: ellipsis;
	max-width:300px;
	overflow: hidden;
	white-space: nowrap;
	display: block;
  }

  /* classes for the hamburger nav */
  #wch-nav-menu {
	display: none;
  }

  #wch-nav-menu.mobileNav {
	display: flex;
  }

  .wch-menu,
  .wch-sub-menu {
	margin: 0;
	padding: 0;
  }

  // Quick border settings
  .wch-menu-item,
  .wch-sub-menu {
	border: 0 solid;
  }

  /* show search box while using mobile navigation */
  .menu-container > .wch-menu {
	margin-top: 54px;
  }

  .wch-menu {

	position: absolute;
	z-index: 1028;
	min-width: 80%;

	display: flex;
	list-style: none;
	flex-wrap: wrap;
	flex-direction: row;


	li {
	  width: 100%
	}

	li.has-children > a::after {
	  display: block;
	  width: 0;
	  height: 0;
	  border: inset 6px;
	  content: '';
	  border-bottom-width: 0;
	  border-top-style: solid;
	  border-color: #323232 transparent transparent;
	  right: 5px;
	  left: auto;
	  margin-top: -3px;
	  position: absolute;
	  top: 50%;
	}

	li.has-children[aria-expanded="true"] > a::after {
	  transform: rotate(180deg);
	  transform-origin: 50% 50%;
	}

	li.has-children[aria-expanded="true"] {
	  //.wch-sub-menu {
	  //	display: block;
	  //}
	}

	li.has-children > a {
	  position: relative;
	  padding-right: 1.5rem;

	}

	.wch-sub-menu {
	  position: static;
	  margin-left: 15px;
	}

	.wch-menu-item {
	  display: block;

	  a.active {
		color: #000;
		border-bottom: 1px solid #000000;
	  }

	  a:hover {
		color: #000;
	  }

	  &.has-children {
		&, .wch-menu-item {
		  position: relative;
		}
	  }

	  a {
		padding: 0.7rem 1rem;
		display: block;
		text-decoration: none;
		color: #323232;
		margin-left: 10px;
		transition: .3s color;
		font-size: 18px;
		line-height: 30px;
		font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
		cursor: pointer;

	  }
	}

  }
}

/* Medium and up */
@media screen and (min-width: 40em) {
  .wch-responsive-menu {
	.logo-container {
	  width: 170px;
	}
  }
}

/* Large and up */
@media screen and (min-width: 64em) {

  .wch-responsive-menu {

	.logo-container {
	  width: 170px;
	}

	#wch-nav-menu {
	  display: flex;
	}

	.searchBox {
	  margin: 10px 0 0 16px;
	}

	/* search box moved */
	.menu-container > .wch-menu {
	  margin-top: 0;
	}

	.wch-menu {
	  flex-wrap: wrap;
	  flex-direction: row;
	  position: relative;
	  min-width: 67%;

	  li.wch-menu-item.has-children[aria-expanded="true"] > a::after {
		transform: rotate(0deg);
		transform-origin: 50% 50%;
	  }

	  li.wch-menu-item.has-children[aria-expanded="true"] {
		.wch-sub-menu {
		  display: flex;
		}
	  }

	  .wch-menu-item {
		width: auto;

		.wch-sub-menu {
		  list-style: none;
		  top: 100%;
		  right: 0;
		  left: auto;
		  position: absolute;
		  z-index: 1;
		  display: none;
		  min-width: 200px;
		  border: 1px solid #cacaca;
		  background: #fefefe;

		  flex-wrap: nowrap;
		  flex-direction: column;
		}

	  }
	}

	.wch-menu-item:hover {
	  .wch-sub-menu {
		display: block;
	  }
	}
  }
}


